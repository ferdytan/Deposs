import{r as t,K as $,j as e,L as B,$ as N,S as d}from"./app-BbZmP5JP.js";import{A as F}from"./app-layout-C8DR7Foy.js";import{U as P}from"./layout-Byin0tGL.js";import{H as R}from"./heading-PiClKYTU.js";import{A as b,a as v,b as C,c as D,d as A,e as T,f as U,g as S}from"./alert-dialog-99VPWxZ-.js";import{B as i}from"./app-logo-icon-Dj5sO5x7.js";import{I as q}from"./input-DRhxhnrC.js";import{L as z}from"./label-DkwQzxDA.js";import{T as K,a as Y,b as x,c as a,d as G,e as r}from"./table-B9y5zwkO.js";import{T as J}from"./trash-2-D7rVHQ2L.js";/* empty css            */import"./index-sosYKMZa.js";import"./Combination-D4FSplPZ.js";import"./index-DFyYl1Eo.js";import"./index-CPxufXI2.js";const Q=[{title:"Master User",href:"/users"}];function me({users:h,filters:w}){var y,g;const[u,k]=t.useState(w.search||""),[I,n]=t.useState(!1),[p,V]=t.useState(null),[L,c]=t.useState(!1),[j,M]=t.useState(null),{props:o}=$(),f=()=>{d.get("/users",{search:u})},O=s=>{V(s),n(!0)},E=()=>{p!==null&&d.post(`/users/${p}/verify`),n(!1)},H=s=>{M(s),c(!0)},_=()=>{j!==null&&d.delete(`/users/${j}`),c(!1)};return e.jsxs(F,{breadcrumbs:Q,children:[e.jsx(B,{title:"Master User"}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-6",children:[((y=o.flash)==null?void 0:y.success)&&e.jsx("div",{className:"rounded-md bg-green-50 p-4 text-sm text-green-700",children:o.flash.success}),((g=o.flash)==null?void 0:g.error)&&e.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-700",children:o.flash.error}),e.jsx(R,{title:"Users List",description:"Manage all registered user and their information."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsx(q,{id:"search",placeholder:"Search by name, username or email",value:u,onChange:s=>k(s.target.value),onKeyUp:s=>s.key==="Enter"&&f(),className:"flex-1"}),e.jsx(i,{onClick:f,className:"w-full sm:w-auto",children:"Search"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(i,{asChild:!0,className:"mb-2",children:e.jsx(N,{href:"/users/create",children:"+ Create User"})})}),e.jsx("div",{className:"overflow-x-auto rounded-md border",children:e.jsxs(K,{children:[e.jsx(Y,{children:e.jsxs(x,{children:[e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Username"}),e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Role"}),e.jsx(a,{children:"Verified"}),e.jsx(a,{className:"text-right",children:"Action"})]})}),e.jsx(G,{children:h.data.length===0?e.jsx(x,{children:e.jsx(r,{colSpan:6,className:"py-8 text-center text-sm text-muted-foreground",children:"No users found."})}):h.data.map(s=>{var l;return e.jsxs(x,{className:"group",children:[e.jsx(r,{className:"py-3 font-medium",children:s.name}),e.jsx(r,{className:"py-3",children:s.username}),e.jsx(r,{className:"py-3",children:s.email}),e.jsx(r,{className:"py-3",children:((l=s.role)==null?void 0:l.name)??"-"}),e.jsx(r,{className:"py-3",children:s.email_verified_at?"Yes":"No"}),e.jsxs(r,{className:"py-3 text-right opacity-0 transition-opacity group-hover:opacity-100 md:opacity-100",children:[!s.email_verified_at&&e.jsxs(e.Fragment,{children:[e.jsx(i,{size:"sm",variant:"outline",onClick:()=>O(s.id),className:"mr-2",children:"Verify"}),e.jsx(b,{open:I,onOpenChange:n,children:e.jsxs(v,{children:[e.jsxs(C,{children:[e.jsx(D,{children:"Verify User"}),e.jsx(A,{children:"Are you sure you want to verify this user?"})]}),e.jsxs(T,{children:[e.jsx(U,{onClick:()=>n(!1),children:"Cancel"}),e.jsx(S,{onClick:E,children:"Yes, Verify"})]})]})})]}),e.jsx(i,{size:"sm",variant:"outline",asChild:!0,className:"mr-2",children:e.jsx(N,{href:route("users.edit",s.id),children:"Edit"})}),e.jsx("button",{type:"button",className:"inline-flex h-8 w-8 items-center justify-center rounded-md text-sm text-red-500 hover:bg-red-100 disabled:pointer-events-none disabled:opacity-50",onClick:()=>H(s.id),"aria-label":"Delete",children:e.jsx(J,{className:"h-4 w-4"})}),e.jsx(b,{open:L,onOpenChange:c,children:e.jsxs(v,{children:[e.jsxs(C,{children:[e.jsx(D,{children:"Delete User"}),e.jsx(A,{children:"Are you sure you want to delete this user? This action cannot be undone."})]}),e.jsxs(T,{children:[e.jsx(U,{onClick:()=>c(!1),children:"Cancel"}),e.jsx(S,{onClick:_,className:"bg-red-600 hover:bg-red-700",children:"Delete User"})]})]})})]})]},s.id)})})]})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-1",children:h.links.map((s,l)=>s.url?e.jsx(i,{variant:s.active?"default":"outline",disabled:!s.url,onClick:()=>d.get(s.url),className:"px-3 py-1 whitespace-nowrap",children:s.label.replace(/&laquo; Previous|Next &raquo;/,m=>m.includes("Previous")?"← Prev":m.includes("Next")?"Next →":m)},l):e.jsx("span",{className:"px-3 py-1",children:"..."},l))})]})})]})}export{me as default};
