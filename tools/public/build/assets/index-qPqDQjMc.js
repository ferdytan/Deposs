import{r as u,K as A,j as e,L as _,$ as b,S as m}from"./app-B98ZThci.js";import{A as C}from"./app-layout-CaDgrDt6.js";import{P as S}from"./layout-DmNhqvs9.js";import{H as T}from"./heading-BNsMVixI.js";import{A as P,a as L,b as k,c as H,d as I,e as M,f as q,g as B}from"./alert-dialog-DaCWROGq.js";import{B as n}from"./app-logo-icon-9nhc2994.js";import{I as E}from"./input-DiaRsZww.js";import{L as K}from"./label-DlFk4KKB.js";import{T as O,a as R,b as p,c as d,d as U,e as c}from"./table-CGDbsOrl.js";import{T as $}from"./trash-2-CdkGK4wY.js";import{A as F,a as z,b as J}from"./arrow-up-DtF7Mi4E.js";/* empty css            */import"./index-CI0mzp4r.js";import"./Combination-DTLoTM3Z.js";import"./index-Dbk8gknr.js";import"./index-DlZ-ApHZ.js";const Y=[{title:"Master Product",href:"/products"}],j=({label:t,field:r,currentSort:l,currentDir:o,trashed:h,search:a})=>{const i=l===r&&o==="asc"?"desc":"asc";return e.jsxs(b,{href:route("products.index",{sort_by:r,sort_dir:i,trashed:h,search:a}),className:"flex items-center gap-1 font-semibold text-gray-700 hover:text-black",children:[t,l===r?o==="asc"?e.jsx(F,{className:"h-4 w-4"}):e.jsx(z,{className:"h-4 w-4"}):e.jsx(J,{className:"h-4 w-4 text-gray-400"})]})};function de({products:t,filters:r}){var g;const[l,o]=u.useState(r.search||""),[h,a]=u.useState(!1),[i,v]=u.useState(null),{props:y}=A(),f=()=>{m.get("/products",{search:l,sort_by:r.sort_by,sort_dir:r.sort_dir})},D=s=>{v(s),a(!0)},w=()=>{i!==null&&m.delete(`/products/${i}`),a(!1)};return e.jsxs(C,{breadcrumbs:Y,children:[e.jsx(_,{title:"Master Product"}),e.jsxs(S,{children:[e.jsxs("div",{className:"space-y-6",children:[((g=y.flash)==null?void 0:g.success)&&e.jsx("div",{className:"rounded-md bg-green-50 p-4 text-sm text-green-700",children:y.flash.success}),e.jsx(T,{title:"Product List",description:"Manage all registered services."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsx(E,{id:"search",placeholder:"Search by service type",value:l,onChange:s=>o(s.target.value),onKeyUp:s=>s.key==="Enter"&&f(),className:"flex-1"}),e.jsx(n,{onClick:f,className:"w-full sm:w-auto",children:"Search"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(n,{asChild:!0,className:"mb-2",children:e.jsx(b,{href:"/products/create",children:"+ Create Product"})})}),e.jsx("div",{className:"overflow-x-auto rounded-md border",children:e.jsxs(O,{children:[e.jsx(R,{children:e.jsxs(p,{children:[e.jsx(d,{children:e.jsx(j,{label:"Jenis Layanan",field:"service_type",currentSort:r.sort_by,currentDir:r.sort_dir,search:r.search})}),e.jsx(d,{children:e.jsx(j,{label:"Rekam Suhu",field:"requires_temperature",currentSort:r.sort_by,currentDir:r.sort_dir,search:r.search})}),e.jsx(d,{children:e.jsx(j,{label:"Keterangan",field:"description",currentSort:r.sort_by,currentDir:r.sort_dir,search:r.search})}),e.jsx(d,{className:"text-right",children:"Action"})]})}),e.jsx(U,{children:t.data.length===0?e.jsx(p,{children:e.jsx(c,{colSpan:4,className:"py-8 text-center text-sm text-muted-foreground",children:"No products found."})}):t.data.map(s=>e.jsxs(p,{className:"group",children:[e.jsx(c,{className:"py-3 font-medium",children:s.service_type}),e.jsx(c,{className:"py-3",children:s.requires_temperature==1?"Ya":"Tidak"}),e.jsx(c,{className:"py-3",children:s.description??"-"}),e.jsxs(c,{className:"py-3 text-right opacity-0 transition-opacity group-hover:opacity-100 md:opacity-100",children:[e.jsx(n,{size:"sm",variant:"outline",asChild:!0,className:"mr-2",children:e.jsx(b,{href:route("products.edit",s.id),children:"Edit"})}),e.jsx("button",{type:"button",className:"inline-flex h-8 w-8 items-center justify-center rounded-md text-sm text-red-500 hover:bg-red-100 disabled:pointer-events-none disabled:opacity-50",onClick:()=>D(s.id),"aria-label":"Delete",children:e.jsx($,{className:"h-4 w-4"})})]})]},s.id))})]})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-1",children:t.links.map((s,N)=>s.url?e.jsx(n,{variant:s.active?"default":"outline",disabled:!s.url,onClick:()=>m.get(s.url),className:"px-3 py-1 whitespace-nowrap",children:s.label.replace(/&laquo; Previous|Next &raquo;/,x=>x.includes("Previous")?"← Prev":x.includes("Next")?"Next →":x)},N):e.jsx("span",{className:"px-3 py-1",children:"..."},N))})]}),e.jsx(P,{open:h,onOpenChange:a,children:e.jsxs(L,{children:[e.jsxs(k,{children:[e.jsx(H,{children:"Delete Product"}),e.jsx(I,{children:"Are you sure you want to delete this product? This action cannot be undone."})]}),e.jsxs(M,{children:[e.jsx(q,{onClick:()=>a(!1),children:"Cancel"}),e.jsx(B,{onClick:w,className:"bg-red-600 hover:bg-red-700",children:"Delete Product"})]})]})})]})]})}export{de as default};
