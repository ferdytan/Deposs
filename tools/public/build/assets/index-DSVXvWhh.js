import{r as o,K as D,j as e,L as A,$ as f,S as c}from"./app-BIxiM4zi.js";import{A as T}from"./app-layout-CGJByD3C.js";import{C as w}from"./layout-vmpokUPG.js";import{H as S}from"./heading-CGEw6JNV.js";import{A as L,a as E,b as H,c as I,d as M,e as P,f as k,g as B}from"./alert-dialog-B2irFhXF.js";import{B as l}from"./app-logo-icon-pQ4BnCQP.js";import{I as O}from"./input-LkNi3APd.js";import{L as $}from"./label-B1m0EZ8G.js";import{T as q,a as F,b as d,c as r,d as K,e as a}from"./table-TKJd9Ewa.js";import{T as R}from"./trash-2-BY3vKzZB.js";/* empty css            */import"./index-DinVnDuX.js";import"./Combination-C89aHk2d.js";import"./index-B-YrhCAK.js";import"./index-BFHFZXKF.js";const z=[{title:"Customer Management",href:"/customers"}];function le({customers:i,filters:g}){var p;const[m,y]=o.useState(g.search||""),[N,t]=o.useState(!1),[h,b]=o.useState(null),{props:x}=D(),u=()=>{c.get("/customers",{search:m})},C=s=>{b(s),t(!0)},v=()=>{h!==null&&c.delete(`/customers/${h}`),t(!1)};return e.jsxs(T,{breadcrumbs:z,children:[e.jsx(A,{title:"Customer Management"}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[((p=x.flash)==null?void 0:p.success)&&e.jsx("div",{className:"rounded-md bg-green-50 p-4 text-sm text-green-700",children:x.flash.success}),e.jsx(S,{title:"Customer List",description:"Manage all registered customers and their information."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsx(O,{id:"search",placeholder:"Search by name or email",value:m,onChange:s=>y(s.target.value),onKeyUp:s=>s.key==="Enter"&&u(),className:"flex-1"}),e.jsx(l,{onClick:u,className:"w-full sm:w-auto",children:"Search"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{asChild:!0,className:"mb-2",children:e.jsx(f,{href:"/customers/create",children:"+ Create Customer"})})}),e.jsx("div",{className:"overflow-x-auto rounded-md border",children:e.jsxs(q,{children:[e.jsx(F,{children:e.jsxs(d,{children:[e.jsx(r,{children:"Name"}),e.jsx(r,{children:"City"}),e.jsx(r,{children:"Province"}),e.jsx(r,{children:"Phone"}),e.jsx(r,{children:"Email"}),e.jsx(r,{className:"text-right",children:"Action"})]})}),e.jsx(K,{children:i.data.length===0?e.jsx(d,{children:e.jsx(a,{colSpan:7,className:"py-8 text-center text-sm text-muted-foreground",children:"No customers found."})}):i.data.map(s=>e.jsxs(d,{className:"group",children:[e.jsx(a,{className:"py-3 font-medium",children:s.name}),e.jsx(a,{className:"py-3",children:s.city??"-"}),e.jsx(a,{className:"py-3",children:s.province??"-"}),e.jsx(a,{className:"py-3",children:s.phone??"-"}),e.jsx(a,{className:"py-3",children:s.email??"-"}),e.jsxs(a,{className:"py-3 text-right opacity-0 transition-opacity group-hover:opacity-100 md:opacity-100",children:[e.jsx(l,{size:"sm",variant:"outline",asChild:!0,children:e.jsx(f,{href:route("customers.edit",s.id),children:"Edit"})}),e.jsx("button",{type:"button",className:"inline-flex h-8 w-8 items-center justify-center rounded-md text-sm text-red-500 hover:bg-red-100 disabled:pointer-events-none disabled:opacity-50",onClick:()=>C(s.id),"aria-label":"Delete",children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx(L,{open:N,onOpenChange:t,children:e.jsxs(E,{children:[e.jsxs(H,{children:[e.jsx(I,{children:"Delete Customer"}),e.jsx(M,{children:"Are you sure you want to delete this customer? This action cannot be undone."})]}),e.jsxs(P,{children:[e.jsx(k,{onClick:()=>t(!1),children:"Cancel"}),e.jsx(B,{onClick:v,className:"bg-red-600 hover:bg-red-700",children:"Delete Customer"})]})]})})]})]},s.id))})]})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-1",children:i.links.map((s,j)=>s.url?e.jsx(l,{variant:s.active?"default":"outline",disabled:!s.url,onClick:()=>c.get(s.url),className:"px-3 py-1 whitespace-nowrap",children:s.label.replace(/&laquo; Previous|Next &raquo;/,n=>n.includes("Previous")?"← Prev":n.includes("Next")?"Next →":n)},j):e.jsx("span",{className:"px-3 py-1",children:"..."},j))})]})})]})}export{le as default};
