import{r as o,j as s,m as lr,a as ir,L as or}from"./app-DI4TLJC4.js";import{c as sr,B as ge}from"./app-logo-icon-eQkH5wY8.js";import{D as cr,a as ur,b as dr,c as fr,d as pr}from"./dialog-CnJ2Mr4S.js";import{I as ce}from"./input-DsZk_lCm.js";import{L as X}from"./label-QeNiCfoM.js";import{S as mr,a as vr,b as gr,c as br,d as hr}from"./select-DKlGFp_Z.js";import{P as yr}from"./index-C3CP_8mx.js";import{A as xr,X as Or}from"./app-layout-Cyq646XZ.js";import{O as Sr}from"./layout-klRLdAlQ.js";import{I as Ir,a as L,u as Se,P as He,C as at,b as lt,O as h,c as te,T as it,d as Cr,e as wr,f as Ht,g as Ut,h as Er,i as fe,S as kr,j as jr,F as Nt,l as Pe,k as Gt,m as Pr,n as _e,o as _r,V as Nr,U as Fr,p as ot,q as Dr,r as Lr,R as Jt,Z as Qe,s as Tr,D as et}from"./dropdown.esm-C96UV9_s.js";import{T as Rr}from"./trash-2-CfcMT4sv.js";import{C as Ar}from"./circle-plus-CbHrva56.js";/* empty css            */import"./index-DOdMbcQI.js";import"./Combination-BF_CChef.js";import"./index-FK1b5421.js";import"./index-Dx9LJXF4.js";var Kr="Separator",Ft="horizontal",Mr=["horizontal","vertical"],Xt=o.forwardRef((e,a)=>{const{decorative:r,orientation:l=Ft,...t}=e,C=Vr(l)?l:Ft,f=r?{role:"none"}:{"aria-orientation":C==="vertical"?C:void 0,role:"separator"};return s.jsx(yr.div,{"data-orientation":C,...f,...t,ref:a})});Xt.displayName=Kr;function Vr(e){return Mr.includes(e)}var $r=Xt;function Br({className:e,orientation:a="horizontal",decorative:r=!0,...l}){return s.jsx($r,{"data-slot":"separator-root",decorative:r,orientation:a,className:sr("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...l})}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},tt.apply(null,arguments)}var qt=o.memo(o.forwardRef(function(e,a){var r=Ir.getPTI(e);return o.createElement("svg",tt({ref:a,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"}))}));qt.displayName="TimesCircleIcon";function nt(e,a){(a==null||a>e.length)&&(a=e.length);for(var r=0,l=Array(a);r<a;r++)l[r]=e[r];return l}function Hr(e){if(Array.isArray(e))return nt(e)}function Ur(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gr(e,a){if(e){if(typeof e=="string")return nt(e,a);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nt(e,a):void 0}}function Jr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xr(e){return Hr(e)||Ur(e)||Gr(e)||Jr()}var Oe={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(a){return Oe.DEFAULT_MASKS[a]?Oe.DEFAULT_MASKS[a]:a},onBeforeInput:function(a,r,l){l||!L.isAndroid()||this.validateKey(a,a.data,r)},onKeyPress:function(a,r,l){l||L.isAndroid()||a.ctrlKey||a.altKey||a.metaKey||this.validateKey(a,a.key,r)},onPaste:function(a,r,l){if(!l){var t=this.getRegex(r),C=a.clipboardData.getData("text");Xr(C).forEach(function(O){if(!t.test(O))return a.preventDefault(),!1})}},validateKey:function(a,r,l){if(r!=null){var t=r.length<=2;if(t){var C=this.getRegex(l);C.test(r)||a.preventDefault()}}},validate:function(a,r){var l=a.target.value,t=!0,C=this.getRegex(r);return l&&!C.test(l)&&(t=!1),t}};function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Be.apply(null,arguments)}function Ne(e){"@babel/helpers - typeof";return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ne(e)}function qr(e,a){if(Ne(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var l=r.call(e,a);if(Ne(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function zr(e){var a=qr(e,"string");return Ne(a)=="symbol"?a:a+""}function Wr(e,a,r){return(a=zr(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}var Zr={root:function(a){var r=a.props,l=a.isFilled,t=a.context;return te("p-inputtext p-component",{"p-disabled":r.disabled,"p-filled":l,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":t&&t.inputStyle==="filled"})}},Me=at.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,invalid:!1,variant:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,iconPosition:null},css:{classes:Zr}});function Dt(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function Lt(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Dt(Object(r),!0).forEach(function(l){Wr(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}var zt=o.memo(o.forwardRef(function(e,a){var r=Se(),l=o.useContext(He),t=Me.getProps(e,l),C=Me.setMetaData(Lt(Lt({props:t},t.__parentMetadata),{},{context:{disabled:t.disabled,iconPosition:t.iconPosition}})),O=C.ptm,f=C.cx,S=C.isUnstyled;lt(Me.css.styles,S,{name:"inputtext",styled:!0});var k=o.useRef(a),j=function(N){t.onKeyDown&&t.onKeyDown(N),t.keyfilter&&Oe.onKeyPress(N,t.keyfilter,t.validateOnly)},U=function(N){t.onBeforeInput&&t.onBeforeInput(N),t.keyfilter&&Oe.onBeforeInput(N,t.keyfilter,t.validateOnly)},W=function(N){var R=N.target,V=!0;t.keyfilter&&t.validateOnly&&(V=Oe.validate(N,t.keyfilter)),t.onInput&&t.onInput(N,V),h.isNotEmpty(R.value)?L.addClass(R,"p-filled"):L.removeClass(R,"p-filled")},z=function(N){t.onPaste&&t.onPaste(N),t.keyfilter&&Oe.onPaste(N,t.keyfilter,t.validateOnly)};o.useEffect(function(){h.combinedRefs(k,a)},[k,a]);var w=o.useMemo(function(){return h.isNotEmpty(t.value)||h.isNotEmpty(t.defaultValue)},[t.value,t.defaultValue]),Z=h.isNotEmpty(t.tooltip);o.useEffect(function(){var M;w||(M=k.current)!==null&&M!==void 0&&M.value?L.addClass(k.current,"p-filled"):L.removeClass(k.current,"p-filled")},[t.disabled,w]);var B=r({className:te(t.className,f("root",{context:l,isFilled:w})),onBeforeInput:U,onInput:W,onKeyDown:j,onPaste:z},Me.getOtherProps(t),O("root"));return o.createElement(o.Fragment,null,o.createElement("input",Be({ref:k},B)),Z&&o.createElement(it,Be({target:k,content:t.tooltip,pt:O("tooltip")},t.tooltipOptions)))}));zt.displayName="InputText";function q(){return q=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},q.apply(null,arguments)}function Fe(e){"@babel/helpers - typeof";return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Fe(e)}function Yr(e,a){if(Fe(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var l=r.call(e,a);if(Fe(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Qr(e){var a=Yr(e,"string");return Fe(a)=="symbol"?a:a+""}function Ie(e,a,r){return(a=Qr(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function rt(e,a){(a==null||a>e.length)&&(a=e.length);for(var r=0,l=Array(a);r<a;r++)l[r]=e[r];return l}function ea(e){if(Array.isArray(e))return rt(e)}function ta(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wt(e,a){if(e){if(typeof e=="string")return rt(e,a);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rt(e,a):void 0}}function na(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ra(e){return ea(e)||ta(e)||Wt(e)||na()}function aa(e){throw new TypeError('"'+e+'" is read-only')}function la(e){if(Array.isArray(e))return e}function ia(e,a){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var l,t,C,O,f=[],S=!0,k=!1;try{if(C=(r=r.call(e)).next,a===0){if(Object(r)!==r)return;S=!1}else for(;!(S=(l=C.call(r)).done)&&(f.push(l.value),f.length!==a);S=!0);}catch(j){k=!0,t=j}finally{try{if(!S&&r.return!=null&&(O=r.return(),Object(O)!==O))return}finally{if(k)throw t}}return f}}function oa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function de(e,a){return la(e)||ia(e,a)||Wt(e,a)||oa()}var sa={root:function(a){var r,l=a.props,t=a.context,C=a.focusedState,O=a.overlayVisibleState;return te("p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":l.display==="chip"&&(l.maxSelectedLabels==null?!0:((r=l.value)===null||r===void 0?void 0:r.length)<=l.maxSelectedLabels),"p-disabled":l.disabled,"p-invalid":l.invalid,"p-variant-filled":l.variant?l.variant==="filled":t&&t.inputStyle==="filled","p-multiselect-clearable":l.showClear&&!l.disabled,"p-focus":C,"p-inputwrapper-filled":h.isNotEmpty(l.value),"p-inputwrapper-focus":C||O})},label:function(a){var r,l=a.props,t=a.empty;return te("p-multiselect-label",{"p-placeholder":t&&l.placeholder,"p-multiselect-label-empty":t&&!l.placeholder&&!l.selectedItemTemplate,"p-multiselect-items-label":!t&&l.display!=="chip"&&((r=l.value)===null||r===void 0?void 0:r.length)>l.maxSelectedLabels})},panel:function(a){var r=a.panelProps,l=a.context,t=a.allowOptionSelect;return te("p-multiselect-panel p-component",{"p-multiselect-inline":r.inline,"p-multiselect-flex":r.flex,"p-multiselect-limited":!t,"p-input-filled":l&&l.inputStyle==="filled"||_e.inputStyle==="filled","p-ripple-disabled":l&&l.ripple===!1||_e.ripple===!1})},list:function(a){var r=a.virtualScrollerOptions;return"p-multiselect-items p-component"},labelContainer:"p-multiselect-label-container",triggerIcon:"p-multiselect-trigger-icon p-c",trigger:"p-multiselect-trigger",clearIcon:"p-multiselect-clear-icon",tokenLabel:"p-multiselect-token-label",token:"p-multiselect-token",removeTokenIcon:"p-multiselect-token-icon",wrapper:"p-multiselect-items-wrapper",emptyMessage:"p-multiselect-empty-message",itemGroup:"p-multiselect-item-group",closeButton:"p-multiselect-close p-link",header:"p-multiselect-header",closeIcon:"p-multiselect-close-icon",headerCheckboxContainer:"p-multiselect-select-all",headerCheckboxIcon:"p-multiselect-select-all p-checkbox-icon p-c",headerSelectAllLabel:"p-multiselect-select-all-label",filterContainer:"p-multiselect-filter-container",filterIcon:"p-multiselect-filter-icon",item:function(a){var r=a.itemProps;return te("p-multiselect-item",{"p-highlight":r.selected,"p-disabled":r.disabled,"p-focus":r.focusedOptionIndex===r.index})},checkboxContainer:"p-multiselect-checkbox",checkboxIcon:"p-checkbox-icon p-c",transition:"p-connected-overlay"},ca=`
@layer primereact {
    .p-multiselect {
        display: inline-flex;
        user-select: none;
        cursor: pointer;
    }
    
    .p-multiselect-trigger {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        cursor: pointer;
    }
    
    .p-multiselect-label-container {
        overflow: hidden;
        flex: 1 1 auto;
        cursor: pointer;
    }
    
    .p-multiselect-label  {
        display: block;
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .p-multiselect-label-empty {
        overflow: hidden;
        visibility: hidden;
    }
    
    .p-multiselect-token {
        cursor: default;
        display: inline-flex;
        align-items: center;
        flex: 0 0 auto;
    }
    
    .p-multiselect-token-icon {
        cursor: pointer;
    }
    
    .p-multiselect .p-multiselect-panel {
        min-width: 100%;
    }
    
    .p-multiselect-inline.p-multiselect-panel {
        border: none;
        position: initial;
        background: none;
        box-shadow: none;
    }
    
    .p-multiselect-inline.p-multiselect-panel .p-multiselect-items {
        padding: 0;
    }
    
    .p-multiselect-flex.p-multiselect-panel .p-multiselect-items {
        display: flex;
        flex-wrap: wrap;
    }
    
    .p-multiselect-items-wrapper {
        overflow: auto;
    }
    
    .p-multiselect-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-multiselect-item {
        cursor: pointer;
        display: flex;
        align-items: center;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        outline: none;
    }
    
    .p-multiselect-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .p-multiselect-select-all-label {
        margin-left: 0.5rem;
    }
    
    .p-multiselect-filter-container {
        position: relative;
        flex: 1 1 auto;
    }
    
    .p-multiselect-filter-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
    }
    
    .p-multiselect-filter-container .p-inputtext {
        width: 100%;
    }
    
    .p-multiselect-close {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        overflow: hidden;
        position: relative;
        margin-left: auto;
    }
    
    .p-multiselect-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
        right: 3rem;
    }
    
    .p-fluid .p-multiselect {
        display: flex;
    }
}
`,ua={root:function(a){var r=a.props;return r.showClear&&!r.disabled&&{position:"relative"}},itemGroup:function(a){var r=a.scrollerOptions;return{height:r.props?r.props.itemSize:void 0}}},je=at.extend({defaultProps:{__TYPE:"MultiSelect",appendTo:null,ariaLabelledBy:null,checkboxIcon:null,className:null,clearIcon:null,closeIcon:null,dataKey:null,disabled:!1,display:"comma",dropdownIcon:null,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterDelay:300,filterInputAutoFocus:!0,filterLocale:void 0,selectOnFocus:!1,focusOnHover:!0,autoOptionFocus:!1,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,fixedPlaceholder:!1,flex:!1,id:null,inline:!1,inputId:null,inputRef:null,invalid:!1,variant:null,itemCheckboxIcon:null,itemClassName:null,itemTemplate:null,loading:!1,loadingIcon:null,maxSelectedLabels:null,name:null,onBlur:null,onChange:null,onClick:null,onFilter:null,onFocus:null,onHide:null,onRemove:null,onSelectAll:null,onShow:null,optionDisabled:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,overlayVisible:!1,panelClassName:null,panelFooterTemplate:null,panelHeaderTemplate:null,panelStyle:null,placeholder:null,removeIcon:null,resetFilterOnHide:!1,scrollHeight:"200px",selectAll:!1,selectAllLabel:null,selectedItemTemplate:null,selectedItemsLabel:void 0,selectionLimit:null,showClear:!1,showSelectAll:!0,style:null,tabIndex:0,tooltip:null,tooltipOptions:null,transitionOptions:null,useOptionAsValue:!1,value:null,virtualScrollerOptions:null,children:void 0},css:{classes:sa,styles:ca,inlineStyles:ua}}),da={box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon",root:function(a){var r=a.props,l=a.checked,t=a.context;return te("p-checkbox p-component",{"p-highlight":l,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":t&&t.inputStyle==="filled"})}},Ve=at.extend({defaultProps:{__TYPE:"Checkbox",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,icon:null,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,name:null,onChange:null,onContextMenu:null,onMouseDown:null,readOnly:!1,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,value:null,children:void 0},css:{classes:da}});function Tt(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function Rt(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Tt(Object(r),!0).forEach(function(l){Ie(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}var st=o.memo(o.forwardRef(function(e,a){var r=Se(),l=o.useContext(He),t=Ve.getProps(e,l),C=o.useState(!1),O=de(C,2),f=O[0],S=O[1],k=Ve.setMetaData({props:t,state:{focused:f},context:{checked:t.checked===t.trueValue,disabled:t.disabled}}),j=k.ptm,U=k.cx,W=k.isUnstyled;lt(Ve.css.styles,W,{name:"checkbox"});var z=o.useRef(null),w=o.useRef(t.inputRef),Z=function(){return t.checked===t.trueValue},B=function(m){if(!(t.disabled||t.readOnly)&&t.onChange){var g,x=Z(),P=x?t.falseValue:t.trueValue,$={originalEvent:m,value:t.value,checked:P,stopPropagation:function(){m==null||m.stopPropagation()},preventDefault:function(){m==null||m.preventDefault()},target:{type:"checkbox",name:t.name,id:t.id,value:t.value,checked:P}};if(t==null||(g=t.onChange)===null||g===void 0||g.call(t,$),m.defaultPrevented)return;L.focus(w.current)}},M=function(m){var g;S(!0),t==null||(g=t.onFocus)===null||g===void 0||g.call(t,m)},N=function(m){var g;S(!1),t==null||(g=t.onBlur)===null||g===void 0||g.call(t,m)};o.useImperativeHandle(a,function(){return{props:t,focus:function(){return L.focus(w.current)},getElement:function(){return z.current},getInput:function(){return w.current}}}),o.useEffect(function(){h.combinedRefs(w,t.inputRef)},[w,t.inputRef]),Ut(function(){w.current.checked=Z()},[t.checked,t.trueValue]),Ht(function(){t.autoFocus&&L.focus(w.current,t.autoFocus)});var R=Z(),V=h.isNotEmpty(t.tooltip),A=Ve.getOtherProps(t),H=r({id:t.id,className:te(t.className,U("root",{checked:R,context:l})),style:t.style,"data-p-highlight":R,"data-p-disabled":t.disabled,onContextMenu:t.onContextMenu,onMouseDown:t.onMouseDown},A,j("root")),re=function(){var m=h.reduceKeys(A,L.ARIA_PROPS),g=r(Rt({id:t.inputId,type:"checkbox",className:U("input"),name:t.name,tabIndex:t.tabIndex,onFocus:function(P){return M(P)},onBlur:function(P){return N(P)},onChange:function(P){return B(P)},disabled:t.disabled,readOnly:t.readOnly,required:t.required,"aria-invalid":t.invalid,checked:R},m),j("input"));return o.createElement("input",q({ref:w},g))},ne=function(){var m=r({className:U("icon")},j("icon")),g=r({className:U("box",{checked:R}),"data-p-highlight":R,"data-p-disabled":t.disabled},j("box")),x=R?t.icon||o.createElement(ot,m):null,P=fe.getJSXIcon(x,Rt({},m),{props:t,checked:R});return o.createElement("div",g,P)};return o.createElement(o.Fragment,null,o.createElement("div",q({ref:z},H),re(),ne()),V&&o.createElement(it,q({target:z,content:t.tooltip,pt:j("tooltip")},t.tooltipOptions)))}));st.displayName="Checkbox";function At(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function $e(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?At(Object(r),!0).forEach(function(l){Ie(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}var Zt=o.memo(function(e){var a=Se(),r=e.ptm,l=e.cx,t=e.isUnstyled,C={filter:function(g){return f(g)},reset:function(){return e.resetFilter()}},O=function(g,x){return r(g,$e({hostName:e.hostName},x))},f=function(g){e.onFilter&&e.onFilter({originalEvent:g,query:g.target.value})},S=function(g){if(e.onSelectAll)e.onSelectAll({originalEvent:g,checked:e.selectAll});else{var x=e.isAllSelected()?[]:e.visibleOptions.filter(function(P){return e.isValidOption(P)}).map(function(P){return e.getOptionValue(P)});e.updateModel(g,x,x)}},k=function(){var g=a({className:l("filterIcon")},O("filterIcon")),x=e.filterIcon||o.createElement(Lr,g),P=fe.getJSXIcon(x,$e({},g),{props:e});if(e.filter){var $=a({className:l("filterContainer")},O("filterContainer")),D=o.createElement("div",$,o.createElement(zt,{ref:e.filterRef,type:"text",role:"searchbox",value:e.filterValue,onChange:f,onKeyDown:e.onFilterKeyDown,className:"p-multiselect-filter",placeholder:e.filterPlaceholder,pt:r("filterInput"),unstyled:e.unstyled,__parentMetadata:{parent:e.metaData}}),P);if(e.filterTemplate){var G={className:$.className,element:D,filterOptions:C,onFilter:f,filterInputKeyDown:e.onFilterKeyDown,filterIconClassName:e.filterIconClassName,props:e};D=h.getJSXElement(e.filterTemplate,G)}return o.createElement(o.Fragment,null,D)}return null},j=k(),U=e.id?e.id+"_selectall":Fr(),W=a({htmlFor:U,className:l("headerSelectAllLabel")},O("headerSelectAllLabel")),z=a({className:l("headerCheckboxIcon")},O("headerCheckbox.icon")),w=a({className:l("headerCheckboxContainer")},O("headerCheckboxContainer")),Z=e.itemCheckboxIcon||o.createElement(ot,z),B=fe.getJSXIcon(Z,$e({},z),{selected:e.selected}),M=e.showSelectAll&&o.createElement("div",w,o.createElement(st,{id:U,checked:e.selectAll,onChange:S,role:"checkbox","aria-checked":e.selectAll,icon:B,pt:r("headerCheckbox"),unstyled:t()}),!e.filter&&o.createElement("label",W,e.selectAllLabel)),N=a({className:l("closeIcon"),"aria-hidden":!0},O("closeIcon")),R=e.closeIcon||o.createElement(Gt,N),V=fe.getJSXIcon(R,$e({},N),{props:e}),A=a({className:l("header")},O("header")),H=a({type:"button",className:l("closeButton"),"aria-label":Dr("close"),onClick:e.onClose},O("closeButton")),re=o.createElement("button",H,V,o.createElement(Jt,null)),ne=o.createElement("div",A,M,j,re);if(e.template){var F={className:"p-multiselect-header",checkboxElement:M,checked:e.selectAll,onChange:S,filterElement:j,closeElement:re,closeElementClassName:"p-multiselect-close p-link",closeIconClassName:"p-multiselect-close-icon",onCloseClick:e.onClose,element:ne,itemCheckboxIcon:B,props:e};return h.getJSXElement(e.template,F)}return ne});Zt.displayName="MultiSelectHeader";function Kt(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function fa(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Kt(Object(r),!0).forEach(function(l){Ie(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}var Yt=o.memo(function(e){var a=o.useState(!1),r=de(a,2),l=r[0],t=r[1],C=o.useRef(null),O=Se(),f=e.ptm,S=e.cx,k=e.isUnstyled,j=function(A){return f(A,{hostName:e.hostName,context:{selected:e.selected,disabled:e.disabled,focused:l,focusedIndex:e.focusedIndex,index:e.index}})},U=function(A){var H;t(!0),C==null||(H=C.current)===null||H===void 0||H.getInput().focus()},W=function(A){t(!1)},z=function(A){e.onClick&&e.onClick(A,e.option),A.preventDefault(),A.stopPropagation()},w=O({className:S("checkboxIcon")},j("checkbox.icon")),Z=e.checkboxIcon||o.createElement(ot,w),B=e.selected?fe.getJSXIcon(Z,fa({},w),{selected:e.selected}):null,M=e.template?h.getJSXElement(e.template,e.option):e.label,N=O({className:S("checkboxContainer")},j("checkboxContainer")),R=O({className:te(e.className,e.option.className,S("item",{itemProps:e})),style:e.style,onClick:z,onFocus:U,onBlur:W,onMouseMove:function(A){return e==null?void 0:e.onMouseMove(A,e.index)},role:"option","aria-selected":e.selected,"data-p-highlight":e.selected,"data-p-disabled":e.disabled},j("item"));return o.createElement("li",R,o.createElement("div",N,o.createElement(st,{ref:C,checked:e.selected,icon:B,pt:f("checkbox"),unstyled:k(),tabIndex:-1})),o.createElement("span",null,M),o.createElement(Jt,null))});Yt.displayName="MultiSelectItem";function Mt(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function ye(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Mt(Object(r),!0).forEach(function(l){Ie(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}var Qt=o.memo(o.forwardRef(function(e,a){var r=o.useRef(null),l=o.useRef(null),t=Se(),C=o.useContext(He),O=e.ptm,f=e.cx,S=e.sx,k=e.isUnstyled,j=function(m,g){return O(m,ye({hostName:e.hostName},g))},U=function(){e.onEnter(function(){if(r.current){var m=e.getSelectedOptionIndex();m!==-1&&setTimeout(function(){return r.current.scrollToIndex(m)},0)}})},W=function(){e.onEntered(function(){e.filter&&e.filterInputAutoFocus&&l.current&&L.focus(l.current,!1)})},z=function(m){r.current&&r.current.scrollToIndex(0),e.onFilterInputChange&&e.onFilterInputChange(m)},w=function(){return!(e.visibleOptions&&e.visibleOptions.length)&&e.hasFilter},Z=function(){return o.createElement(Zt,{hostName:e.hostName,id:e.id,filter:e.filter,filterRef:l,filterValue:e.filterValue,filterTemplate:e.filterTemplate,visibleOptions:e.visibleOptions,isValidOption:e.isValidOption,getOptionValue:e.getOptionValue,updateModel:e.updateModel,onFilter:z,onFilterKeyDown:e.onFilterKeyDown,filterPlaceholder:e.filterPlaceholder,onClose:e.onCloseClick,showSelectAll:e.showSelectAll,selectAll:e.isAllSelected(),selectAllLabel:e.selectAllLabel,onSelectAll:e.onSelectAll,template:e.panelHeaderTemplate,resetFilter:e.resetFilter,closeIcon:e.closeIcon,filterIcon:e.filterIcon,itemCheckboxIcon:e.itemCheckboxIcon,ptm:O,cx:f,isUnstyled:k,metaData:e.metaData})},B=function(){if(e.panelFooterTemplate){var m=h.getJSXElement(e.panelFooterTemplate,e,e.onOverlayHide);return o.createElement("div",{className:"p-multiselect-footer"},m)}return null},M=function(m,g){if(e.focusOnHover){var x;e==null||(x=e.changeFocusedOptionIndex)===null||x===void 0||x.call(e,m,g)}},N=function(){var m=h.getJSXElement(e.emptyFilterMessage,e)||Pe("emptyFilterMessage"),g=t({className:f("emptyMessage")},j("emptyMessage"));return o.createElement("li",q({},g,{key:"emptyFilterMessage"}),m)},R=function(){var m=h.getJSXElement(e.emptyMessage,e)||Pe("emptyMessage"),g=t({className:f("emptyMessage")},j("emptyMessage"));return o.createElement("li",q({},g,{key:"emptyMessage"}),m)},V=function(m,g){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P={height:x.props?x.props.itemSize:void 0},$=m.group===!0&&e.optionGroupLabel;if($){var D=e.optionGroupTemplate?h.getJSXElement(e.optionGroupTemplate,m,g):e.getOptionGroupLabel(m),G=g+"_"+e.getOptionGroupRenderKey(m),ae=t({className:f("itemGroup"),style:S("itemGroup",{scrollerOptions:x})},j("itemGroup"));return o.createElement("li",q({key:G},ae),D)}var xe=e.getOptionLabel(m),J=g+"_"+e.getOptionRenderKey(m),be=e.isOptionDisabled(m),u=e.isSelected(m);return o.createElement(Yt,{hostName:e.hostName,key:J,focusedOptionIndex:e.focusedOptionIndex,label:xe,option:m,style:P,index:g,template:e.itemTemplate,selected:u,onClick:e.onOptionSelect,onMouseMove:M,disabled:be,className:e.itemClassName,checkboxIcon:e.checkboxIcon,isUnstyled:k,ptm:O,cx:f})},A=function(){return h.isNotEmpty(e.visibleOptions)?e.visibleOptions.map(V):e.hasFilter?N():R()},H=function(){if(e.virtualScrollerOptions){var m=ye(ye({},e.virtualScrollerOptions),{style:ye(ye({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),className:te("p-multiselect-items-wrapper",e.virtualScrollerOptions.className),items:e.visibleOptions,autoSize:!0,onLazyLoad:function(D){return e.virtualScrollerOptions.onLazyLoad(ye(ye({},D),{filter:e.filterValue}))},itemTemplate:function(D,G){return D&&V(D,G.index,G)},contentTemplate:function(D){var G=w()?N():D.children,ae=t({ref:D.contentRef,style:D.style,className:te(D.className,f("list",{virtualScrollerProps:e.virtualScrollerOptions})),role:"listbox","aria-multiselectable":!0},j("list"));return o.createElement("ul",ae,G)}});return o.createElement(Nr,q({ref:r},m,{pt:O("virtualScroller"),__parentMetadata:{parent:e.metaData}}))}var g=A(),x=t({className:f("wrapper"),style:{maxHeight:e.scrollHeight}},j("wrapper")),P=t({className:f("list"),role:"listbox","aria-multiselectable":!0},j("list"));return o.createElement("div",x,o.createElement("ul",P,g))},re=function(){var m=e.allowOptionSelect(),g=Z(),x=H(),P=B(),$=t({className:te(e.panelClassName,f("panel",{panelProps:e,context:C,allowOptionSelect:m})),style:e.panelStyle,onClick:e.onClick,"data-pr-is-overlay":!0},j("panel"));if(e.inline)return o.createElement("div",q({ref:a},$),x,P);var D=t({classNames:f("transition"),in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,appear:!0,unmountOnExit:!0,onEnter:U,onEntered:W,onExit:e.onExit,onExited:e.onExited},j("transition")),G=t({ref:e.firstHiddenFocusableElementOnOverlay,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:e.onFirstHiddenFocus,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},O("hiddenFirstFocusableEl")),ae=t({ref:e.lastHiddenFocusableElementOnOverlay,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:e.onLastHiddenFocus,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},O("hiddenLastFocusableEl"));return o.createElement(_r,q({nodeRef:a},D),o.createElement("div",q({ref:a},$),o.createElement("span",G),g,x,P,o.createElement("span",ae)))},ne=re();return e.inline?ne:o.createElement(Pr,{element:ne,appendTo:e.appendTo})}));Qt.displayName="MultiSelectPanel";function Vt(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function ee(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Vt(Object(r),!0).forEach(function(l){Ie(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}function $t(e,a){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=pa(e))||a){r&&(e=r);var l=0,t=function(){};return{s:t,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(k){throw k},f:t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,O=!0,f=!1;return{s:function(){r=r.call(e)},n:function(){var k=r.next();return O=k.done,k},e:function(k){f=!0,C=k},f:function(){try{O||r.return==null||r.return()}finally{if(f)throw C}}}}function pa(e,a){if(e){if(typeof e=="string")return Bt(e,a);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bt(e,a):void 0}}function Bt(e,a){(a==null||a>e.length)&&(a=e.length);for(var r=0,l=Array(a);r<a;r++)l[r]=e[r];return l}var en=o.memo(o.forwardRef(function(e,a){var r=Se(),l=o.useContext(He),t=je.getProps(e,l),C=o.useState(null),O=de(C,2),f=O[0],S=O[1],k=o.useState(!1),j=de(k,2),U=j[0],W=j[1],z=Cr("",t.filterDelay||0),w=de(z,3),Z=w[0],B=w[1],M=w[2],N=o.useState(-1),R=de(N,2),V=R[0],A=R[1],H=o.useState(!1),re=de(H,2),ne=re[0],F=re[1],m=o.useState(t.inline),g=de(m,2),x=g[0],P=g[1],$=o.useRef(null),D=o.useRef(null),G=o.useRef(null),ae=o.useRef(null),xe=o.useRef(null),J=o.useRef(t.inputRef),be=o.useRef(null),u=o.useRef(null),p=o.useRef(null),y=B&&B.trim().length>0,I=h.isEmpty(t.value),_=t.optionValue?null:t.dataKey,b={props:t,state:{filterState:B,focused:ne,overlayVisible:x}},le=je.setMetaData(b),Y=le.ptm,ue=le.cx,ct=le.sx,ut=le.isUnstyled;lt(je.css.styles,ut,{name:"multiselect"});var tn=wr({target:$,overlay:u,listener:function(n,i){var c=i.type,v=i.valid;v&&(c==="outside"?!It(n)&&!xn(n)&&ie():l.hideOverlaysOnDocumentScrolling?ie():L.isDocument(n.target)||Le())},when:x}),dt=de(tn,2),nn=dt[0],rn=dt[1],an=function(n){var i=n.relatedTarget===J.current?L.getFirstFocusableElement(u.current,':not([data-p-hidden-focusable="true"])'):J.current;L.focus(i)},ln=function(n){var i=n.relatedTarget===J.current?L.getLastFocusableElement(u.current,':not([data-p-hidden-focusable="true"])'):J.current;L.focus(i)},on=function(n){Tr.emit("overlay-click",{originalEvent:n,target:$.current})},ft=function(){return!t.selectionLimit||!t.value||t.value&&t.value.length<t.selectionLimit},pt=function(n){var i=Re()&&n<K.length-1?K.slice(n+1).findIndex(function(c){return Xe(c)}):-1;return i>-1?i+n+1:-1},mt=function(n){var i=Re()&&n>0?h.findLastIndex(K.slice(0,n),function(c){return Xe(c)}):-1;return i>-1?i:-1},vt=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=-1;return Re()&&(i?(c=mt(n),c=c===-1?pt(n):c):(c=pt(n),c=c===-1?mt(n):c)),c>-1?c:n},De=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(i===-1&&(i=vt(c,!0)),c===-1&&(c=vt(i)),i!==-1&&c!==-1){var v=Math.min(i,c),E=Math.max(i,c),T=K.slice(v,E+1).filter(function(Q){return se(Q)}).map(function(Q){return oe(Q)});pe(n,T,T)}},Ce=function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(!(t.disabled||ke(i))){var v=we(i),E=null;v?E=t.value.filter(function(T){return!h.equals(T,oe(i),_)}):E=[].concat(ra(t.value||[]),[oe(i)]),pe(n,E,i),c!==-1&&S(c)}},sn=function(n){!t.inline&&!t.disabled&&!t.loading&&!On(n)&&!It(n)&&(x?ie():me(),L.focus(J.current),n.preventDefault()),W(!0)},Ue=function(n){if(!x)me(),t.editable&&he(n,Ae());else{var i=f!==-1?Tn(f):U?ze():qe();n.shiftKey&&De(n,V,i),he(n,i)}n.preventDefault()},gt=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.altKey&&!i)f!==-1&&Ce(n,K[f]),x&&ie(),n.preventDefault();else{var c=f!==-1?Rn(f):U?We():Ln();he(n,c),!x&&me(),n.preventDefault()}},bt=function(n){x?f!==-1&&(n.shiftKey?De(n,f):Ce(n,K[f])):(S(-1),Ue(n)),n.preventDefault()},ht=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=n.currentTarget;if(i){var v=c.value.length;c.setSelectionRange(0,n.shiftKey?v:0),S(-1)}else{var E=n.metaKey||n.ctrlKey,T=ze();n.shiftKey&&E&&De(n,T,V),he(n,T),!x&&me()}n.preventDefault()},yt=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=n.currentTarget;if(i){var v=c.value.length;c.setSelectionRange(n.shiftKey?0:v,v),aa("focusedOptionIndex")}else{var E=n.metaKey||n.ctrlKey,T=We();n.shiftKey&&E&&De(n,V,T),he(n,T),!x&&me()}n.preventDefault()},cn=function(n){n.preventDefault()},un=function(n){n.preventDefault()},xt=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i||(x&&Dn()?(L.focus(n.shiftKey?xe.current:ae.current),n.preventDefault()):(f!==-1&&Ce(n,K[f]),x&&ie(filter)))},dn=function(){A(f)},fn=function(n){var i=n.metaKey||n.ctrlKey;switch(n.code){case"ArrowUp":if(t.inline)break;gt(n);break;case"ArrowDown":if(t.inline)break;Ue(n);break;case"Space":case"NumpadEnter":case"Enter":if(t.inline)break;bt(n);break;case"Home":if(t.inline)break;ht(n),n.preventDefault();break;case"End":if(t.inline)break;yt(n),n.preventDefault();break;case"PageDown":un(n);break;case"PageUp":cn(n);break;case"Escape":if(t.inline)break;ie();break;case"Tab":xt(n);break;case"ShiftLeft":case"ShiftRight":dn();break;default:if(n.key==="a"&&i){var c=K.filter(function(v){return se(v)}).map(function(v){return oe(v)});pe(n,c,c),n.preventDefault();break}!i&&h.isPrintableCharacter(n.key)&&(!x&&me(),An(n),n.preventDefault());break}W(!1)},pn=function(n){switch(n.code){case"ArrowUp":if(t.inline)break;gt(n);break;case"ArrowDown":if(t.inline)break;Ue(n);break;case"NumpadEnter":case"Enter":if(t.inline)break;bt(n);break;case"Home":if(t.inline)break;ht(n),n.preventDefault();break;case"End":if(t.inline)break;yt(n),n.preventDefault();break;case"Escape":if(t.inline)break;ie();break;case"Tab":xt(n);break}},mn=function(n){if(t.onSelectAll)t.onSelectAll(n);else{var i=null;if(n.checked)i=[];else{var c=K.filter(function(v){return se(v)&&!ke(v)});c&&(i=c.map(function(v){return oe(v)}))}t.selectionLimit&&i&&i.length&&(i=i.slice(0,t.selectionLimit)),pe(n.originalEvent,i,i)}},pe=function(n,i,c){t.onChange&&(t.onChange({originalEvent:n,value:i,selectedOption:c,stopPropagation:function(){n==null||n.stopPropagation()},preventDefault:function(){n==null||n.preventDefault()},target:{name:t.name,id:t.id,value:i}}),L.focus(J.current))},vn=function(n){var i=n.query;M(i),t.onFilter&&t.onFilter({originalEvent:n,filter:i})},Ot=function(){M(""),t.onFilter&&t.onFilter({filter:""})},St=function(n){if(x){var i;n?i=n.currentTarget:i=L.findSingle(u.current,'li[data-p-highlight="true"]'),i&&i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"})}},me=function(){P(!0),S(f!==-1?f:t.autoOptionFocus?qe():Ae()),L.focus(J.current)},ie=function(){S(-1),P(!1),W(!1)},gn=function(n){Qe.set("overlay",u.current,l&&l.autoZIndex||_e.autoZIndex,l&&l.zIndex.overlay||_e.zIndex.overlay),L.addStyles(u.current,{position:"absolute",top:"0",left:"0"}),Le(),St(),n&&n()},bn=function(n){n&&n(),nn(),t.onShow&&t.onShow()},hn=function(){rn()},yn=function(){t.filter&&t.resetFilterOnHide&&Ot(),Qe.clear(u.current),t.onHide&&t.onHide()},Le=function(){!t.inline&&L.alignOverlay(u.current,be.current.parentElement,t.appendTo||l&&l.appendTo||_e.appendTo)},It=function(n){return L.getAttribute(n.target,"data-pc-section")==="clearicon"},xn=function(n){return L.getAttribute(n.target,"data-pc-section")==="headercheckboxcontainer"},On=function(n){return u.current&&u.current.contains(n.target)},Sn=function(n){ie(),L.focus(J.current),n.preventDefault(),n.stopPropagation()},In=function(){if(t.value!=null&&t.options){if(t.optionGroupLabel){var n=0,i=t.options.findIndex(function(c,v){return(n=v)&&Ct(t.value,Ee(c))!==-1});return i!==-1?{group:n,option:i}:-1}return Ct(t.value,t.options)}return-1},Ct=function(n,i){return i.findIndex(function(c){return n.some(function(v){return h.equals(v,oe(c),_)})})},Cn=function(n,i){return h.equals(n,i,_)},we=function(n){if(t.value){var i=oe(n),c=Nn(n);return t.value.some(function(v){return h.equals(c?v:oe(v),i,_)})}return!1},wt=function(n){var i;if(t.options)if(t.optionGroupLabel){var c=$t(t.options),v;try{for(c.s();!(v=c.n()).done;){var E=v.value;if(i=Ge(n,Ee(E)),i)break}}catch(T){c.e(T)}finally{c.f()}}else i=Ge(n,t.options),h.isEmpty(i)&&(i=Ge(n,t.value));return i?Te(i):null},Ge=function(n,i){return i.find(function(c){return h.equals(oe(c),n,_)})},wn=function(n){F(!0),t.onFocus&&t.onFocus(n)},En=function(n){F(!1),t.onBlur&&t.onBlur(n)},kn=function(){if(t.onSelectAll)return t.selectAll;if(h.isEmpty(K))return!1;var n=K.filter(function(i){return!ke(i)&&se(i)});return!n.some(function(i){return!we(i)})},Te=function(n){return t.optionLabel?h.resolveFieldData(n,t.optionLabel):n&&n.label!==void 0?n.label:n},oe=function(n){return t.useOptionAsValue?n:t.optionValue?h.resolveFieldData(n,t.optionValue):n&&n.value!==void 0?n.value:n},jn=function(n){return t.dataKey?h.resolveFieldData(n,t.dataKey):Te(n)},Pn=function(n){return h.resolveFieldData(n,t.optionGroupLabel)},_n=function(n){return h.resolveFieldData(n,t.optionGroupLabel)},Ee=function(n){return h.resolveFieldData(n,t.optionGroupChildren)},ke=function(n){var i;if(!ft()&&!we(n))return!0;var c=t.optionDisabled;return c?h.isFunction(c)?c(n):h.resolveFieldData(n,c):n&&((i=n.disabled)!==null&&i!==void 0?i:!1)},Nn=function(n){return!t.useOptionAsValue&&t.optionValue||n&&n.value!==void 0},Fn=function(n){return t.optionGroupLabel&&n.group},Re=function(){return h.isNotEmpty(t.value)},Dn=function(){return L.getFocusableElements(u.current,':not([data-p-hidden-focusable="true"])').length>0},Je=function(n){var i;return se(n)&&((i=Te(n))===null||i===void 0?void 0:i.toLocaleLowerCase(t.filterLocale).startsWith(D.current.toLocaleLowerCase(t.filterLocale)))},se=function(n){return h.isNotEmpty(n)&&!(ke(n)||Fn(n))},Xe=function(n){return se(n)&&we(n)},Ae=function(){if(Re()){for(var n=function(){var E=t.value[c],T=K.findIndex(function(Q){return Xe(Q)&&Cn(E,oe(Q))});if(T>-1)return{v:T}},i,c=t.value.length-1;c>=0;c--)if(i=n(),i)return i.v}return-1},qe=function(){var n=Ae();return n<0?ze():n},Ln=function(){var n=Ae();return n<0?We():n},ze=function(){return K.findIndex(function(n){return se(n)})},We=function(){return h.findLastIndex(K,function(n){return se(n)})},Tn=function(n){var i=n<K.length-1?K.slice(n+1).findIndex(function(c){return se(c)}):-1;return i>-1?i+n+1:n},Rn=function(n){var i=n>0?h.findLastIndex(K.slice(0,n),function(c){return se(c)}):-1;return i>-1?i:n},An=function(n){D.current=(D.current||"")+n.key;var i=-1;h.isNotEmpty(D.current)&&(f!==-1?(i=K.slice(f).findIndex(function(c){return Je(c)}),i=i===-1?K.slice(0,f).findIndex(function(c){return Je(c)}):i+f):i=K.findIndex(function(c){return Je(c)}),i===-1&&f===-1&&(i=qe()),i!==-1&&he(n,i)),G.current&&clearTimeout(G.current),G.current=setTimeout(function(){D.current="",G.current=null},500)},he=function(n,i){f!==i&&(S(i),St(n),t.selectOnFocus&&Ce(n,K[i],!1))},Et=function(n,i){if(n.stopPropagation(),!!Kn(n.currentTarget)){var c=t.value.filter(function(v){return!h.equals(v,i,_)});t.onRemove&&t.onRemove({originalEvent:n,value:c}),pe(n,c,i)}},Kn=function(n){var i=p.current,c=i.clientWidth<i.scrollWidth;if(!c)return!0;var v=n.closest('[data-pc-section="token"]'),E=window.getComputedStyle(i),T=window.getComputedStyle(v),Q=i.clientWidth-parseFloat(E.paddingLeft)-parseFloat(E.paddingRight),ve=v.getBoundingClientRect().right+parseFloat(T.marginRight)-i.getBoundingClientRect().left;return ve<=Q},kt=function(){var n=/{(.*?)}/,i=t.selectedItemsLabel||Pe("selectionMessage"),c=t.value?t.value.length:0;return n.test(i)?i.replace(i.match(n)[0],c+""):i},jt=function(){var n;return I||t.fixedPlaceholder?"":h.isNotEmpty(t.maxSelectedLabels)&&((n=t.value)===null||n===void 0?void 0:n.length)>t.maxSelectedLabels?kt():h.isArray(t.value)?t.value.reduce(function(i,c,v){return i+(v!==0?", ":"")+wt(c)},""):""},Mn=function(){var n=t.value?t.value.length:0;if(h.isNotEmpty(t.maxSelectedLabels)&&n>t.maxSelectedLabels)return kt();if(t.selectedItemTemplate)return I?h.getJSXElement(t.selectedItemTemplate):t.value.map(function(c,v){var E=h.getJSXElement(t.selectedItemTemplate,c);return o.createElement(o.Fragment,{key:v},E)});if(t.display==="chip"&&!I){var i=t.value.slice(0,t.maxSelectedLabels||n);return i.map(function(c,v){var E={context:{value:c,index:v}},T=wt(c),Q=T+"_"+v,ve=r({"aria-label":Pe("removeTokenIcon"),className:ue("removeTokenIcon"),onClick:function(Ye){return Et(Ye,c)},onKeyDown:function(Ye){return Bn(Ye,c)},tabIndex:t.tabIndex||"0"},Y("removeTokenIcon",E)),Ze=!t.disabled&&(t.removeIcon?fe.getJSXIcon(t.removeIcon,ee({},ve),{props:t}):o.createElement(qt,ve)),nr=r({className:ue("token")},Y("token",E)),rr=r({className:ue("tokenLabel")},Y("tokenLabel",E));return o.createElement("div",q({},nr,{key:Q}),o.createElement("span",rr,T),Ze)})}return jt()},Vn=function(){var n=t.optionGroupLabel?Pt(t.options):t.options;if(y){var i=B.trim().toLocaleLowerCase(t.filterLocale),c=t.filterBy?t.filterBy.split(","):[t.optionLabel||"label"];if(t.optionGroupLabel){var v=[],E=$t(t.options),T;try{for(E.s();!(T=E.n()).done;){var Q=T.value,ve=Nt.filter(Ee(Q),c,i,t.filterMatchMode,t.filterLocale);ve&&ve.length&&v.push(ee(ee({},Q),Ie({},t.optionGroupChildren,ve)))}}catch(Ze){E.e(Ze)}finally{E.f()}return Pt(v)}return Nt.filter(n,c,i,t.filterMatchMode,t.filterLocale)}return n},Pt=function(n){return(n||[]).reduce(function(i,c,v){i.push(ee(ee({},c),{},{group:!0,index:v}));var E=Ee(c);return E&&E.forEach(function(T){return i.push(T)}),i},[])},$n=function(n){switch(n.code){case"Space":case"NumpadEnter":case"Enter":if(t.inline)break;pe(n,[],[]),n.preventDefault(),n.stopPropagation();break}},Bn=function(n,i){switch(n.code){case"Space":case"NumpadEnter":case"Enter":if(t.inline)break;Et(n,i),n.preventDefault(),n.stopPropagation();break}};o.useImperativeHandle(a,function(){return{props:t,show:me,hide:ie,focus:function(){return L.focus(J.current)},getElement:function(){return $.current},getOverlay:function(){return u.current},getInput:function(){return J.current}}}),Ht(function(){Le()}),o.useEffect(function(){h.combinedRefs(J,t.inputRef)},[J,t.inputRef]),o.useEffect(function(){t.overlayVisible===!0?me():t.overlayVisible===!1&&ie()},[t.overlayVisible]),Ut(function(){x&&B&&y&&Le()},[x,B,y]),Er(function(){Qe.clear(u.current)});var Hn=function(){var n=r({className:ue("clearIcon"),"aria-label":Pe("clear"),onClick:function(E){return pe(E,[],[])},onKeyDown:function(E){return $n(E)},tabIndex:t.tabIndex||"0"},Y("clearIcon")),i=t.clearIcon||o.createElement(Gt,n),c=fe.getJSXIcon(i,ee({},n),{props:t});return!I&&t.showClear&&!t.disabled?c:null},Un=function(){var n=Mn(),i=r({ref:be,className:ue("labelContainer")},Y("labelContainer")),c=r({ref:p,className:ue("label",{empty:I})},Y("label"));return o.createElement("div",i,o.createElement("div",c,n||t.placeholder||t.emptyMessage||"empty"))},K=Vn(),Gn=h.isNotEmpty(t.tooltip),_t=je.getOtherProps(t),Jn=h.reduceKeys(_t,L.ARIA_PROPS),Ke=r({className:ue("triggerIcon")},Y("triggerIcon")),Xn=r({className:ue("trigger")},Y("trigger")),qn=t.loadingIcon?fe.getJSXIcon(t.loadingIcon,ee({},Ke),{props:t}):o.createElement(kr,q({spin:!0},Ke)),zn=t.dropdownIcon?fe.getJSXIcon(t.dropdownIcon,ee({},Ke),{props:t}):o.createElement(jr,Ke),Wn=o.createElement("div",Xn,t.loading?qn:zn),Zn=!t.inline&&Un(),Yn=!t.inline&&Hn(),Qn=r(ee(ee({ref:$,id:t.id,style:ee(ee({},t.style),ct("root")),className:te(t.className,ue("root",{focusedState:ne,context:l,overlayVisibleState:x}))},_t),{},{onClick:sn}),je.getOtherProps(t),Y("root")),er=r({className:"p-hidden-accessible","data-p-hidden-accessible":!0},Y("hiddenInputWrapper")),tr=r(ee({ref:J,id:t.inputId,name:t.name,type:"text",onFocus:wn,onBlur:En,onKeyDown:fn,role:"combobox","aria-expanded":x,disabled:t.disabled,tabIndex:t.disabled?-1:t.tabIndex,value:jt()},Jn),Y("input"));return o.createElement(o.Fragment,null,o.createElement("div",Qn,o.createElement("div",er,o.createElement("input",q({},tr,{readOnly:!0}))),!t.inline&&o.createElement(o.Fragment,null,Zn,Yn,Wn),o.createElement(Qt,q({hostName:"MultiSelect",ref:u,visibleOptions:K},t,{onClick:on,onOverlayHide:ie,filterValue:Z,focusedOptionIndex:f,onFirstHiddenFocus:an,onLastHiddenFocus:ln,firstHiddenFocusableElementOnOverlay:ae,lastHiddenFocusableElementOnOverlay:xe,setFocusedOptionIndex:S,hasFilter:y,isValidOption:se,getOptionValue:oe,updateModel:pe,onFilterInputChange:vn,onFilterKeyDown:pn,resetFilter:Ot,onCloseClick:Sn,onSelectAll:mn,getOptionLabel:Te,getOptionRenderKey:jn,isOptionDisabled:ke,getOptionGroupChildren:Ee,getOptionGroupLabel:_n,getOptionGroupRenderKey:Pn,isSelected:we,getSelectedOptionIndex:In,isAllSelected:kn,onOptionSelect:Ce,allowOptionSelect:ft,in:x,onEnter:gn,onEntered:bn,onExit:hn,onExited:yn,ptm:Y,cx:ue,sx:ct,isUnstyled:ut,metaData:b,changeFocusedOptionIndex:he}))),Gn&&o.createElement(it,q({target:$,content:t.tooltip,pt:Y("tooltip")},t.tooltipOptions)))}));en.displayName="MultiSelect";function Na({customers:e,shippers:a,order_id:r}){const{data:l,setData:t,post:C,processing:O,errors:f}=lr({customer_id:"",shipper_id:"",entry_date:"",eir_date:"",exit_date:"",commodity:"",no_aju:"",fumigasi:null,order_items:[{product_id:"",additional_product_ids:[],container_number:"",entry_date:"",eir_date:"",exit_date:"",commodity:"",country:""}]}),[S,k]=o.useState(!0),[j,U]=o.useState(r||"");o.useEffect(()=>{if(S&&!j){const u=new Date().toISOString().slice(0,10).replace(/-/g,"");U(`ORD-${u}-XXXX`)}},[S,j]);const W=()=>{t("order_items",[...l.order_items,{product_id:"",additional_product_ids:[],container_number:"",entry_date:"",eir_date:"",exit_date:"",commodity:"",country:"",vessel:""}])},z=u=>{t("order_items",l.order_items.filter((p,y)=>y!==u))},w=(u,p,y)=>{const I=[...l.order_items];if(I[u][p]=y,p==="price_type"){const _=ae(I[u].product_id);let b;_&&(y==="20ft"?b=_.custom_price_20ft:y==="40ft"?b=_.custom_price_40ft:y==="global"&&(b=_.custom_global_price)),I[u].price_value=b;const le=I[u].additional_product_ids||[];I[u].additional_product_prices=J(le,y)}t("order_items",I)},Z=u=>{const p=l.order_items[u].container_number;return l.order_items.some((y,I)=>I!==u&&y.container_number===p&&p.length>0)},B=u=>{if(u.preventDefault(),t("error",void 0),l.fumigasi&&l.fumigasi.trim()!==""&&!l.shipper_id){t("error","Shipper wajib diisi karena catatan Fumigator diisi.");return}C(route("orders.store"))},[M,N]=o.useState(!1),[R,V]=o.useState(null),[A,H]=o.useState([]),re=u=>{var y;V(u);const p=(y=l.order_items[u])==null?void 0:y.temperature;if(p&&Object.keys(p).length>0){const I=Object.entries(p).map(([_,b])=>({date:_,temps:b}));H(I)}else H([{date:new Date().toISOString().slice(0,10),temps:{}}]);N(!0)},ne=(u,p)=>{H(y=>{const I=[...y];return I[u].date=p,I})},F=(u,p,y)=>{H(I=>{const _=[...I];return _[u].temps={..._[u].temps,[p.toString().padStart(2,"0")]:y},_})},m=()=>{H(u=>[...u,{date:"",temps:{}}])},g=u=>{H(p=>p.filter((y,I)=>I!==u))},x=()=>{if(R===null)return;const u={};A.forEach(y=>{y.date&&(u[y.date]=y.temps)});const p=[...l.order_items];p[R]={...p[R],temperature:u},t("order_items",p),N(!1),V(null),H([])},[P,$]=o.useState([]),[D,G]=o.useState(!1);o.useEffect(()=>{l.customer_id?(G(!0),ir.get(`/api/customers/${l.customer_id}/products`).then(u=>{$(u.data),t("order_items",l.order_items.map(p=>({...p,product_id:"",additional_product_ids:[],price_type:void 0})))}).finally(()=>G(!1))):($([]),t("order_items",l.order_items.map(u=>({...u,product_id:"",additional_product_ids:[],price_type:void 0}))))},[l.customer_id]);const ae=u=>P.find(p=>p.id===parseInt(u)),xe=(u,p)=>{const y=u.replace(/^order_items\.\d+\./,""),_={customer_id:"Customer",shipper_id:"Shipper",no_aju:"Nomor AJU",product_id:"Produk",container_number:"Nomor Kontainer",entry_date:"Tanggal Masuk",eir_date:"Tanggal EIR",exit_date:"Tanggal Keluar",commodity:"Komoditi",country:"Negara",vessel:"Nama Kapal",price_type:"Tipe Harga",additional_product_ids:"Produk Tambahan",temperature:"Rekam Suhu",order_items:"Item order"}[y]||y.split("_").join(" ").replace(/\b\w/g,le=>le.toUpperCase()),b=p.replace(/^The /,"").replace(/ for order items \d+$/,"").replace(/ in order items \d+$/,"").replace(/order_items\.\d+\./g,"").replace(/\.$/,"").trim();return`${_} ${b}`},J=(u,p)=>u.map(y=>{const I=P.find(b=>b.id.toString()===y);let _="0";return I&&(p==="20ft"?_=I.custom_price_20ft??"0":p==="40ft"?_=I.custom_price_40ft??"0":_=I.custom_global_price??"0"),`${y}:${_}`}),be=()=>{setTimeout(()=>{const u=document.querySelector(".p-dropdown-panel .p-inputtext");u&&u.focus()},100)};return s.jsxs(xr,{children:[s.jsx(or,{title:"Buat Order Baru"}),s.jsx(Sr,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Buat Order Baru"}),Object.keys(f).length>0&&s.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:[s.jsx("h3",{className:"mb-2 text-sm font-semibold text-red-800",children:"Terdapat kesalahan:"}),s.jsx("ul",{className:"list-inside list-disc space-y-1 text-sm text-red-700",children:Object.entries(f).map(([u,p])=>s.jsx("li",{children:xe(u,p)},u))})]}),l.error&&s.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:s.jsx("p",{className:"text-sm text-red-700",children:l.error})}),s.jsxs("form",{onSubmit:B,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex rounded-md border p-1",children:[s.jsx("div",{onClick:()=>{k(!0),t("no_aju","")},className:`flex-1 cursor-pointer rounded-md p-2 text-center text-sm font-semibold transition-colors ${S?"bg-blue-500 text-white":"bg-transparent text-gray-700"}`,children:"Nomor Order Otomatis"}),s.jsx("div",{onClick:()=>k(!1),className:`flex-1 cursor-pointer rounded-md p-2 text-center text-sm font-semibold transition-colors ${S?"bg-transparent text-gray-700":"bg-blue-500 text-white"}`,children:"Nomor AJU"})]}),S?s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Nomor Order"}),s.jsx(ce,{value:j,readOnly:!0,className:"cursor-not-allowed bg-gray-100"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Nomor AJU"}),s.jsx(ce,{value:l.no_aju,onChange:u=>t("no_aju",u.target.value),placeholder:"Masukkan Nomor AJU",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Pilih Customer"}),s.jsx(et,{value:l.customer_id,options:e.map(u=>({label:u.name,value:u.id.toString()})),optionLabel:"label",optionValue:"value",placeholder:"Pilih atau cari Customer",filter:!0,filterPlaceholder:"Cari customer...",showClear:!1,onChange:u=>t("customer_id",u.value),onShow:be,className:"w-full rounded-md border border-gray-300 h-10 px-3 py-2"}),f.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.customer_id})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Pilih Shipper"}),s.jsx(et,{value:l.shipper_id,options:a.map(u=>({label:u.name,value:u.id.toString()})),optionLabel:"label",optionValue:"value",placeholder:"Pilih atau cari Shipper",filter:!0,filterPlaceholder:"Cari shipper...",showClear:!0,onChange:u=>t("shipper_id",u.value),onShow:be,className:"w-full rounded-md border border-gray-300 h-10 px-3 py-2"}),f.shipper_id&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.shipper_id})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Fumigator (Catatan)"}),s.jsx("input",{value:l.fumigasi??"",onChange:u=>t("fumigasi",u.target.value),placeholder:"Masukkan catatan Fumigator (opsional)...",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",rows:3}),f.fumigasi&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.fumigasi})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(X,{children:"Layanan & Nomor Kontainer"}),l.order_items.map((u,p)=>{const y=ae(u.product_id),I=(y==null?void 0:y.requires_temperature)||!1,_=[{label:"Harga 20ft",value:"20ft",price:y==null?void 0:y.custom_price_20ft},{label:"Harga 40ft",value:"40ft",price:y==null?void 0:y.custom_price_40ft},{label:"Harga Global",value:"global",price:y==null?void 0:y.custom_global_price}].filter(b=>b.price!==void 0&&b.price!==null);return s.jsxs("div",{children:[s.jsxs("div",{className:"space-y-4 rounded-lg border p-4 mb-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{className:"min-w-[200px] flex-1",children:[s.jsxs(X,{className:"text-base font-bold",children:["Produk #",p+1]}),s.jsx(et,{value:u.product_id,options:P.map(b=>({label:b.service_type,value:b.id.toString()})),optionLabel:"label",optionValue:"value",placeholder:D?"Memuat...":"Pilih Layanan",filter:!0,filterPlaceholder:"Cari layanan...",showClear:!1,onChange:b=>{w(p,"product_id",b.value),w(p,"price_type",void 0)},disabled:!l.customer_id||D,className:"w-full rounded-md border border-gray-300 h-10 px-3 py-2"})]}),s.jsxs("div",{className:"min-w-[160px] flex-1",children:[s.jsx(X,{children:"Pilih Harga"}),s.jsxs(mr,{value:u.price_type,onValueChange:b=>w(p,"price_type",b),disabled:!u.product_id||_.length===0,children:[s.jsx(vr,{className:"h-10 px-3 py-2 font-sans",children:s.jsx(gr,{placeholder:"Pilih Harga"})}),s.jsx(br,{children:_.map(b=>s.jsxs(hr,{value:b.value,children:[b.label," ",b.price?`: Rp${Number(b.price).toLocaleString()}`:""]},b.value))})]}),_.length===0&&s.jsx("div",{className:"mt-1 text-sm text-red-500",children:"Tidak ada harga untuk produk ini"})]}),s.jsxs("div",{className:"min-w-[200px] flex-1",children:[s.jsx(X,{children:"Additional Produk"}),s.jsx(en,{value:u.additional_product_ids||[],options:P.map(b=>({label:b.service_type,value:b.id.toString(),disabled:b.id.toString()===u.product_id})),onChange:b=>{const le=b.value;w(p,"additional_product_ids",le);const Y=J(le,u.price_type);w(p,"additional_product_prices",Y)},optionLabel:"label",optionValue:"value",placeholder:"Pilih produk tambahan",disabled:D||!l.customer_id,display:"chip",className:"w-full rounded-md border border-gray-300 h-10 px-2 py-1"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(X,{children:"Nomor Kontainer"}),s.jsxs("div",{className:"flex w-full gap-2",children:[s.jsx(ce,{className:"flex-1",value:u.container_number,onChange:b=>w(p,"container_number",b.target.value.toUpperCase()),placeholder:"EMCU1234567",maxLength:11}),I&&s.jsx(ge,{type:"button",variant:"outline",onClick:()=>re(p),children:"Rekam Suhu"})]}),Z(p)&&s.jsx("p",{className:"text-sm text-red-500",children:"Nomor kontainer sudah dipakai"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx(X,{children:"Negara"}),s.jsx(ce,{value:u.country,onChange:b=>w(p,"country",b.target.value),placeholder:"Negara Asal / tujuan"})]}),s.jsxs("div",{children:[s.jsx(X,{children:"Nama Kapal (Vessel)"}),s.jsx(ce,{value:u.vessel||"",onChange:b=>w(p,"vessel",b.target.value),placeholder:"Nama Kapal"})]}),s.jsxs("div",{children:[s.jsx(X,{children:"Komoditi"}),s.jsx(ce,{value:u.commodity,onChange:b=>w(p,"commodity",b.target.value),placeholder:"Contoh: Barang Elektronik"})]}),s.jsxs("div",{children:[s.jsx(X,{children:"Tanggal Masuk"}),s.jsx(ce,{type:"datetime-local",value:u.entry_date,onChange:b=>w(p,"entry_date",b.target.value)})]}),s.jsxs("div",{children:[s.jsx(X,{children:"Tanggal EIR"}),s.jsx(ce,{type:"datetime-local",value:u.eir_date,onChange:b=>w(p,"eir_date",b.target.value)})]}),s.jsxs("div",{children:[s.jsx(X,{children:"Tanggal Keluar"}),s.jsx(ce,{type:"datetime-local",value:u.exit_date,onChange:b=>w(p,"exit_date",b.target.value)})]})]}),l.order_items.length>1&&s.jsx("div",{className:"flex justify-end",children:s.jsx(ge,{type:"button",variant:"destructive",size:"icon",onClick:()=>z(p),children:s.jsx(Rr,{className:"h-4 w-4"})})})]},p),s.jsx(Br,{className:"my-6"})]})}),s.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:W,children:"+ Tambah Layanan"})]}),S&&s.jsx("input",{type:"hidden",name:"order_id",value:j}),s.jsx("input",{type:"hidden",name:"order_items",value:JSON.stringify(l.order_items)}),s.jsx(cr,{open:M,onOpenChange:N,children:s.jsxs(ur,{className:"max-w-3xl",children:[s.jsx(dr,{children:s.jsx(fr,{children:"Rekam Suhu Kontainer"})}),s.jsxs("div",{className:"max-h-[60vh] space-y-6 overflow-y-auto pr-2",children:[A.map((u,p)=>s.jsxs("div",{className:"space-y-2 rounded border p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{htmlFor:`date_${p}`,children:"Tanggal"}),s.jsx(ce,{id:`date_${p}`,type:"date",value:u.date,onChange:y=>ne(p,y.target.value),className:"max-w-[180px]"}),A.length>1&&s.jsx(ge,{type:"button",size:"icon",variant:"destructive",className:"ml-auto",onClick:()=>g(p),children:s.jsx(Or,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid max-h-64 grid-cols-2 gap-2 overflow-y-auto",children:[...Array(24)].map((y,I)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{htmlFor:`temp_${p}_${I}`,children:[I.toString().padStart(2,"0"),":00"]}),s.jsx(ce,{id:`temp_${p}_${I}`,type:"number",step:"0.1",value:u.temps[I.toString().padStart(2,"0")]||"",onChange:_=>F(p,I,_.target.value),className:"w-24"})]},I))})]},p)),s.jsxs(ge,{type:"button",variant:"outline",onClick:m,className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4"})," Tambah Tanggal"]})]}),s.jsxs(pr,{className:"gap-2",children:[s.jsx(ge,{variant:"outline",onClick:()=>N(!1),children:"Batal"}),s.jsx(ge,{onClick:x,children:"Simpan"})]})]})}),s.jsxs(ge,{type:"submit",disabled:O,className:"w-full sm:w-auto",children:[O&&s.jsx("span",{className:"mr-2 animate-spin",children:""}),O?"Memproses...":"Buat Order"]})]})]})})]})}export{Na as default};
